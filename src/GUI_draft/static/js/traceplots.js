var config = {showLink: false, responsive: true};
var layout = {
    margin:{
        b:0,
        l:0,
        r:0,
        t:0,
    }
};



function test_load_file_to_see(obj, plot_id="") {
    var flist = obj;
    console.log(flist);
    var myfile = flist[0];
    if (myfile) {
        var reader = new FileReader();
        // TODO explore different readers (csv, xlsx)
        reader.readAsText(myfile, "UTF-8");
        reader.onload = function (evt) {
            console.log(evt.target.result);
        }
        reader.onerror = function (evt) {
            console.alert("error reading file");
        }
    }

    //TODO take data from file and provide to x and y
    //TODO style the plot with layout (maybe no x and y axis, just the trace as visual?)

    var data = [{type:"scatter", x: [ 0.        ,  0.21013998,  0.42027995,  0.63041993,  0.84055991,
        1.05069988,  1.26083986,  1.47097984,  1.68111981,  1.89125979,
        2.10139977,  2.31153975,  2.52167972,  2.7318197 ,  2.94195968,
        3.15209965,  3.36223963,  3.57237961,  3.78251958,  3.99265956,
        4.20279954,  4.41293951,  4.62307949,  4.83321947,  5.04335944,
        5.25349942,  5.4636394 ,  5.67377937,  5.88391935,  6.09405933,
        6.3041993 ,  6.51433928,  6.72447926,  6.93461924,  7.14475921,
        7.35489919,  7.56503917,  7.77517914,  7.98531912,  8.1954591 ,
        8.40559907,  8.61573905,  8.82587903,  9.036019  ,  9.24615898,
        9.45629896,  9.66643893,  9.87657891, 10.08671889, 10.29685886,
       10.50699884, 10.71713882, 10.9272788 , 11.13741877, 11.34755875,
       11.55769873, 11.7678387 , 11.97797868, 12.18811866, 12.39825863,
       12.60839861, 12.81853859, 13.02867856, 13.23881854, 13.44895852,
       13.65909849, 13.86923847, 14.07937845, 14.28951842, 14.4996584 ,
       14.70979838, 14.91993835, 15.13007833, 15.34021831, 15.55035829,
       15.76049826, 15.97063824, 16.18077822, 16.39091819, 16.60105817,
       16.81119815, 17.02133812, 17.2314781 , 17.44161808, 17.65175805,
       17.86189803, 18.07203801, 18.28217798, 18.49231796, 18.70245794,
       18.91259791, 19.12273789, 19.33287787, 19.54301785, 19.75315782,
       19.9632978 , 20.17343778, 20.38357775, 20.59371773, 20.80385771,
       21.01399768, 21.22413766, 21.43427764, 21.64441761, 21.85455759,
       22.06469757, 22.27483754, 22.48497752, 22.6951175 , 22.90525747,
       23.11539745, 23.32553743, 23.5356774 , 23.74581738, 23.95595736,
       24.16609734, 24.37623731, 24.58637729, 24.79651727, 25.00665724,
       25.21679722, 25.4269372 , 25.63707717, 25.84721715, 26.05735713,
       26.2674971 , 26.47763708, 26.68777706, 26.89791703, 27.10805701,
       27.31819699, 27.52833696, 27.73847694, 27.94861692, 28.1587569 ,
       28.36889687, 28.57903685, 28.78917683, 28.9993168 , 29.20945678,
       29.41959676, 29.62973673, 29.83987671, 30.05001669, 30.26015666,
       30.47029664, 30.68043662, 30.89057659, 31.10071657, 31.31085655,
       31.52099652, 31.7311365 , 31.94127648, 32.15141645, 32.36155643,
       32.57169641, 32.78183639, 32.99197636, 33.20211634, 33.41225632,
       33.62239629, 33.83253627, 34.04267625, 34.25281622, 34.4629562 ,
       34.67309618, 34.88323615, 35.09337613, 35.30351611, 35.51365608,
       35.72379606, 35.93393604, 36.14407601, 36.35421599, 36.56435597,
       36.77449595, 36.98463592, 37.1947759 , 37.40491588, 37.61505585,
       37.82519583, 38.03533581, 38.24547578, 38.45561576, 38.66575574,
       38.87589571, 39.08603569, 39.29617567, 39.50631564, 39.71645562,
       39.9265956 , 40.13673557, 40.34687555, 40.55701553, 40.7671555 ,
       40.97729548, 41.18743546, 41.39757544, 41.60771541, 41.81785539,
       42.02799537, 42.23813534, 42.44827532, 42.6584153 , 42.86855527,
       43.07869525, 43.28883523, 43.4989752 , 43.70911518, 43.91925516,
       44.12939513, 44.33953511, 44.54967509, 44.75981506, 44.96995504,
       45.18009502, 45.390235  , 45.60037497, 45.81051495, 46.02065493,
       46.2307949 , 46.44093488, 46.65107486, 46.86121483, 47.07135481,
       47.28149479, 47.49163476, 47.70177474, 47.91191472, 48.12205469,
       48.33219467, 48.54233465, 48.75247462, 48.9626146 , 49.17275458,
       49.38289455, 49.59303453, 49.80317451, 50.01331449, 50.22345446,
       50.43359444, 50.64373442, 50.85387439, 51.06401437, 51.27415435,
       51.48429432, 51.6944343 , 51.90457428, 52.11471425, 52.32485423,
       52.53499421, 52.74513418, 52.95527416, 53.16541414, 53.37555411,
       53.58569409, 53.79583407, 54.00597404, 54.21611402, 54.426254  ,
       54.63639398, 54.84653395, 55.05667393, 55.26681391, 55.47695388,
       55.68709386, 55.89723384, 56.10737381, 56.31751379, 56.52765377,
       56.73779374, 56.94793372, 57.1580737 , 57.36821367, 57.57835365,
       57.78849363, 57.9986336 , 58.20877358, 58.41891356, 58.62905354,
       58.83919351, 59.04933349, 59.25947347, 59.46961344, 59.67975342,
       59.8898934 , 60.10003337, 60.31017335, 60.52031333, 60.7304533 ,
       60.94059328, 61.15073326, 61.36087323, 61.57101321, 61.78115319,
       61.99129316, 62.20143314, 62.41157312, 62.62171309, 62.83185307], y:[ 0.00000000e+00,  2.08596799e-01,  4.08016060e-01,  5.89484021e-01,
        7.45016721e-01,  8.67771255e-01,  9.52346849e-01,  9.95022469e-01,
        9.93920534e-01,  9.49089526e-01,  8.62501854e-01,  7.37967077e-01,
        5.80964295e-01,  3.98401090e-01,  1.98309611e-01, -1.05068055e-02,
       -2.18860959e-01, -4.17585986e-01, -5.97938671e-01, -7.51984118e-01,
       -8.72944858e-01, -9.55499038e-01, -9.96014558e-01, -9.92708874e-01,
       -9.45727426e-01, -8.57137235e-01, -7.30835964e-01, -5.72380433e-01,
       -3.88742138e-01, -1.88000531e-01,  2.10124511e-02,  2.29100958e-01,
        4.27109813e-01,  6.06327310e-01,  7.58868498e-01,  8.78022092e-01,
        9.58545743e-01,  9.96896690e-01,  9.91387623e-01,  9.42260922e-01,
        8.51677992e-01,  7.23624170e-01,  5.63733382e-01,  3.79040271e-01,
        1.77670696e-01, -3.15157770e-02, -2.39315664e-01, -4.36586488e-01,
       -6.14649013e-01, -7.65669103e-01, -8.83002395e-01, -9.61486629e-01,
       -9.97668769e-01, -9.89956927e-01, -9.38690396e-01, -8.46124728e-01,
       -7.16332491e-01, -5.55024098e-01, -3.69296559e-01, -1.67321246e-01,
        4.20156238e-02,  2.49503951e-01,  4.46014966e-01,  6.22902862e-01,
        7.72385181e-01,  8.87885218e-01,  9.64321370e-01,  9.98330710e-01,
        9.88416943e-01,  9.35016243e-01,  8.40478054e-01,  7.08961732e-01,
        5.46253541e-01,  3.59512078e-01,  1.56953325e-01, -5.25108321e-02,
       -2.59664694e-01, -4.55394206e-01, -6.31087944e-01, -7.79015991e-01,
       -8.92670023e-01, -9.67049654e-01, -9.98882438e-01, -9.86767842e-01,
       -9.31238867e-01, -8.34738595e-01, -7.01512706e-01, -5.37422679e-01,
       -3.49687909e-01, -1.46568078e-01,  6.30002435e-02,  2.69796771e-01,
        4.64723172e-01,  6.39203357e-01,  7.85560801e-01,  8.97356280e-01,
        9.69671180e-01,  9.99323894e-01,  9.85009806e-01,  9.27358686e-01,
        8.28906985e-01,  6.93986236e-01,  5.28532489e-01,  3.39825135e-01,
        1.36166649e-01, -7.34826998e-02, -2.79899064e-01, -4.74000835e-01,
       -6.47248205e-01, -7.92018887e-01, -9.01943473e-01, -9.72185658e-01,
       -9.99655029e-01, -9.83143029e-01, -9.23376129e-01, -8.22983866e-01,
       -6.86383153e-01, -5.19583950e-01, -3.29924847e-01, -1.25750188e-01,
        8.39570440e-02,  2.89970456e-01,  4.83226169e-01,  6.55221598e-01,
        7.98389538e-01,  9.06431094e-01,  9.74592810e-01,  9.99875806e-01,
        9.81167717e-01,  9.19291635e-01,  8.16969893e-01,  6.78704296e-01,
        5.10578052e-01,  3.19988135e-01,  1.15319845e-01, -9.44221197e-02,
       -3.00009837e-01, -4.92398158e-01, -6.63122658e-01, -8.04672050e-01,
       -9.10818650e-01, -9.76892371e-01, -9.99986200e-01, -9.79084088e-01,
       -9.15105654e-01, -8.10865730e-01, -6.70950512e-01, -5.01515787e-01,
       -3.10016099e-01, -1.04876772e-01,  1.04876772e-01,  3.10016099e-01,
        5.01515787e-01,  6.70950512e-01,  8.10865730e-01,  9.15105654e-01,
        9.79084088e-01,  9.99986200e-01,  9.76892371e-01,  9.10818650e-01,
        8.04672050e-01,  6.63122658e-01,  4.92398158e-01,  3.00009837e-01,
        9.44221197e-02, -1.15319845e-01, -3.19988135e-01, -5.10578052e-01,
       -6.78704296e-01, -8.16969893e-01, -9.19291635e-01, -9.81167717e-01,
       -9.99875806e-01, -9.74592810e-01, -9.06431094e-01, -7.98389538e-01,
       -6.55221598e-01, -4.83226169e-01, -2.89970456e-01, -8.39570440e-02,
        1.25750188e-01,  3.29924847e-01,  5.19583950e-01,  6.86383153e-01,
        8.22983866e-01,  9.23376129e-01,  9.83143029e-01,  9.99655029e-01,
        9.72185658e-01,  9.01943473e-01,  7.92018887e-01,  6.47248205e-01,
        4.74000835e-01,  2.79899064e-01,  7.34826998e-02, -1.36166649e-01,
       -3.39825135e-01, -5.28532489e-01, -6.93986236e-01, -8.28906985e-01,
       -9.27358686e-01, -9.85009806e-01, -9.99323894e-01, -9.69671180e-01,
       -8.97356280e-01, -7.85560801e-01, -6.39203357e-01, -4.64723172e-01,
       -2.69796771e-01, -6.30002435e-02,  1.46568078e-01,  3.49687909e-01,
        5.37422679e-01,  7.01512706e-01,  8.34738595e-01,  9.31238867e-01,
        9.86767842e-01,  9.98882438e-01,  9.67049654e-01,  8.92670023e-01,
        7.79015991e-01,  6.31087944e-01,  4.55394206e-01,  2.59664694e-01,
        5.25108321e-02, -1.56953325e-01, -3.59512078e-01, -5.46253541e-01,
       -7.08961732e-01, -8.40478054e-01, -9.35016243e-01, -9.88416943e-01,
       -9.98330710e-01, -9.64321370e-01, -8.87885218e-01, -7.72385181e-01,
       -6.22902862e-01, -4.46014966e-01, -2.49503951e-01, -4.20156238e-02,
        1.67321246e-01,  3.69296559e-01,  5.55024098e-01,  7.16332491e-01,
        8.46124728e-01,  9.38690396e-01,  9.89956927e-01,  9.97668769e-01,
        9.61486629e-01,  8.83002395e-01,  7.65669103e-01,  6.14649013e-01,
        4.36586488e-01,  2.39315664e-01,  3.15157770e-02, -1.77670696e-01,
       -3.79040271e-01, -5.63733382e-01, -7.23624170e-01, -8.51677992e-01,
       -9.42260922e-01, -9.91387623e-01, -9.96896690e-01, -9.58545743e-01,
       -8.78022092e-01, -7.58868498e-01, -6.06327310e-01, -4.27109813e-01,
       -2.29100958e-01, -2.10124511e-02,  1.88000531e-01,  3.88742138e-01,
        5.72380433e-01,  7.30835964e-01,  8.57137235e-01,  9.45727426e-01,
        9.92708874e-01,  9.96014558e-01,  9.55499038e-01,  8.72944858e-01,
        7.51984118e-01,  5.97938671e-01,  4.17585986e-01,  2.18860959e-01,
        1.05068055e-02, -1.98309611e-01, -3.98401090e-01, -5.80964295e-01,
       -7.37967077e-01, -8.62501854e-01, -9.49089526e-01, -9.93920534e-01,
       -9.95022469e-01, -9.52346849e-01, -8.67771255e-01, -7.45016721e-01,
       -5.89484021e-01, -4.08016060e-01, -2.08596799e-01, -2.44929360e-15]}];
     Plotly.newPlot(plot_id, data, layout, config);
     //Plotly.restyle(plot_id, update, [0])

}


//TODO take data from file and provide to x and y
//TODO style the plot with layout (maybe no x and y axis, just the trace as visual?)

var data = [{type:"scatter", x: [], y:[]}];

var trace_plots = document.getElementsByClassName("timeseries-trace")

for(var i=0;i< trace_plots.length;++i){
    Plotly.newPlot(trace_plots[i].id, data, layout, config);
};